<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Quick Test</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1e1e1e; color: #d4d4d4; }
        .pass { color: #4ec9b0; }
        .fail { color: #f48771; }
        pre { background: #252526; padding: 10px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>Quick TDD Tests</h1>
    <div id="output"></div>
    
    <script src="../src/coordfinder.js"></script>
    <script>
        var output = [];
        
        function test(id, input, expectedLat, expectedLon) {
            try {
                var point = CF.pointIn(input);
                if (!point) {
                    output.push('<span class="fail">✗ ' + id + ': No point found</span>');
                    return false;
                }
                
                var lat = point.latitude();
                var lon = point.longitude();
                var latOk = Math.abs(lat - expectedLat) < 0.00001;
                var lonOk = Math.abs(lon - expectedLon) < 0.00001;
                
                if (latOk && lonOk) {
                    output.push('<span class="pass">✓ ' + id + '</span>');
                    return true;
                } else {
                    output.push('<span class="fail">✗ ' + id + ': Expected ' + expectedLat + ',' + expectedLon + 
                               ' Got ' + lat.toFixed(5) + ',' + lon.toFixed(5) + '</span>');
                    return false;
                }
            } catch(e) {
                output.push('<span class="fail">✗ ' + id + ': ' + e.message + '</span>');
                return false;
            }
        }
        
        output.push('<h2>Grundläggande</h2>');
        test('tdd-001', '59.32894 18.06491', 59.32894, 18.06491);
        test('tdd-002', '59,32894 18,06491', 59.32894, 18.06491);
        test('tdd-003', '59.32894; 18.06491', 59.32894, 18.06491);
        
        output.push('<h2>Grader och Minuter</h2>');
        test('tdd-004', '59° 19.736\' N 18° 3.895\' E', 59.32893, 18.06492);
        test('tdd-005', '59° 19\' 44.2" N 18° 3\' 53.7" E', 59.32894, 18.06492);
        test('tdd-006', '591944N0180354E', 59.32889, 18.06500);
        
        output.push('<h2>Väderstreck</h2>');
        test('tdd-007', 'N 62.45 E 17.38', 62.45, 17.38);
        test('tdd-008', 'S 33.92 W 18.42', -33.92, -18.42);
        test('tdd-009', 'N 65.58 Ö 22.14', 65.58, 22.14);
        
        output.push('<h2>Minustecken</h2>');
        test('tdd-010', '58-30 16-45', 58.50, 16.75);
        test('tdd-011', '6230-1545', 62.50, 15.75);
        
        document.getElementById('output').innerHTML = output.join('<br>');
    </script>
</body>
</html>
